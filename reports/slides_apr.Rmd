---
title: "Apresentação 2 Projeto"
subtitle: "PPGEco Ufes"
author: "Gabriel Lopes Rodrigues"
institute: "Orientador: Guilherme Armando Pereira"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output:
  xaringan::moon_reader:
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---



```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)

```

```{r echo = FALSE}
my_data <- readRDS("my_data.rds")
```


---
class: center, middle

# Forecasting Brazilian Recessions

### Gabriel Lopes Rodrigues

---
# Contextualização da Pesquisa

## Objetivo Geral:

- Previsão de recessão na Economia Brasileira

## Objetivos Específicos:

- Implementar os 4 modelos probit (ver Kauppi Saikkonen 2008) - Estático, Dinâmico, Autoregressivo e Autoregressivo Dinâmico.

- Avaliar a eficiência destes modelos p/ economia BR;

- Aplicar metodologia de seleção de variáveis e ver o ganho preditivo.

---
class: center
# Fluxo da Pesquisa

.pull-left[
### Modelos de Risk Factors:

- Revisão Bibliográfica

- Fundamentação Teórica dos Dados

- Coleta de Dados

- Fundamentação dos Modelos

- Implementação dos Modelos
]

.pull-right[
### Modelos de Big Data:

- Revisão Bibliográfica

- Fundamentação do método de seleção

- Implementação dos métodos

- Análise dos resultados.
]

```{r echo = FALSE}
# falta colocar umas marcacoes que digam o que já foi feito
```

---

# Variáveis Explicativas Brasil

```{r tabela fontes, echo = FALSE }
# Tabela



st.date <- function(x){
my_data |> 
  dplyr::select(data, x) |> 
  tidyr::drop_na() |> 
  dplyr::select(data) |> 
  dplyr::slice_min(data)
  
}
n.obs <- function(x){
  my_data |> 
    dplyr::select(data, x) |> 
    tidyr::drop_na() |> 
    nrow()
}

####------ init date----------##
start.date <- lapply(colnames(my_data)[-1], st.date) |> 
  as.data.frame()
colnames(start.date) <- colnames(my_data)[-1]

start.date <- tidyr::gather(start.date) |> 
  dplyr::rename(Ap. = key,
                Inicio = value)

#---- n obs------###
num.obs <- lapply(colnames(my_data)[-1], n.obs) |> 
  as.data.frame()
colnames(num.obs) <- colnames(my_data)[-1]

num.obs <- tidyr::gather(num.obs)|> 
  dplyr::rename(Ap. = key,
                Obs. = value)


#----------- Nome ------------###

nomes.ofc <- c("Taxa referencial entre Swap e Pré Fixada de 360 dias",
                   "Índice de ações: Ibovespa - fechamento",
                   "Preços - Índice FipeZap Imóveis Anunciados vendas no Brasil",
                   "Índice de Liquidez do Sistema Bancário Nacional",
                   "Índice Composto de Deterioração Macroeconomica",
                   "Datação de Recessões (Harding & Pagan")

#---------------- Fonte ---------------------#

nomes.fonte <- c("IPEA",
                "IPEA",
                "IPEA",
                "SGS BACEN",
                "Formulação Própria",
                "CODACE")

fonte_tbl <- dplyr::left_join(start.date, num.obs, by = "Ap.") |> 
                dplyr::mutate(Serie = nomes.ofc,
                              Fonte = nomes.fonte) |> 
                dplyr::relocate(Serie, .before = "Ap.")

fonte_tbl <- gt::gt(fonte_tbl) 
  
fonte_tbl |> 
  gt::tab_header(
    title = "Variáveis do Modelo",
  )
  


```

---
# Datação de Recessões

.pull-left[
## Harding & Pagan
- Dissecting the cycle: a methodological investigation (2002)
- Falar um pouco sobre a metodologia, talvez colocar a equação do algoritmo


]

.pull-right[
## CODACE
- Relatórios de frequência trimestral.


- Segue a metodologia do National Bureau of Economic Research (NBER)


- Datação definida por assembléia baseada em metodologia plural
]
```{r echo = FALSE}
# mosta tabelas com datas Harding Pagan e Codace e falar um pouco sobre os métodos
```


---

# Expectativas do Mercado Financeiro

- Curva de Juros é a principal variável explicativa na literatura de recessão (ver...);

- Reflete a preferência por liquidez dos agentes econômicos - diferencial do juro de curto prazo frente o juro de longo prazo.

- Literatura americana utiliza o Yield Spread;

- Para o Brasil o principal equivalente é reportado como a **Tx. Swap DI Pré Fixada** (ver ...);


```{r echo = FALSE}
# plotar gráfico da série crua e falar da fundamentação

```


---

# Risco de Liquidez

- A métrica utilizada é o spread entre a tx. de juro no mercado interbancário e os títulos públicos.

-  O equivalente para o Brasil seria naturalmente o spread entre a *taxa Selic Over* e a *Taxa CDI*, contudo **fulano** demonstra não aderência do spread ao ciclo.

- **fulanos** endossam a utilização do **Índice de Liquidez (IL)** do Banco Central como proxy adequada.

- O **IL** relaciona o volume de ativos líquidos detidos pelas instituições com o fluxo de caixa estressado.

```{r echo = FALSE}
# plotar gráfico da série crua e falar da fundamentação

```


---

# Risco de Estouro de Bolhas

.pull-left[
## Ibovespa

- Capta a desvalorização das empresas no mercado de ações;

- **Fulano** confirma a correlação entre Ibovespa e Recessão.

]

.pull-right[
## Fipezap

- Capta a desvalorização de imóveis, lastro fundamental das dívidas familiares;

- Para a economia brasileir **fulano** ressalta a relação....

]

```{r echo = FALSE}

# plotar gráfico da série crua e falar da fundamentação

```


---


# Índice de Deterioração Macroeconômica

- The Conference Board (**TCB**);

- Metodologia Índice Composto Séries Coincidentes;

$$x_{t}=200\ast \frac{X_{t} - X_{t-1}}{X_{t} + X_{t-1}}$$

$k=\sum_{x}\frac{1}{\nu _{x}}$ 
$i_{t}=\sum _{x}m_{t}$

$$I_{t}=\frac{200+i_{t}}{200-i_{t}}I_{t-1}$$

- colocar uma tabela com as váriaveis selecionadas, contrastando com o Ng(2010)

---

# Índice de Deterioração Macroeconômica

```{r echo = FALSE}

#mostra o indice e plotar contra as recessões

```

---

# Análise Exploratória dos Dados

- Mostar as análises estátisticas dos dados garimpados

---

# Implementação Prévia

- plotar e mostrar a estimação dos modelos, analisar os resultados, ver se concorda com ng
      
---

# Reprodutibilidade

- botar link do github e explicar a reprodutibilidade do trabalho e da apresentação

---

class: center, middle

# Agradecimentos
